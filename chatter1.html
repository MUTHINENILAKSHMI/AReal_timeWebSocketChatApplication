<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WebSocket Output</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: none;      /* no background */
        margin: 20px;
    }

    h3 {
        margin-bottom: 10px;
    }

    #chat {
        width: 100%;
    }

    .msg {
        margin: 5px 0;
        padding: 5px;
        text-align: left;     /* LEFT alignment */
    }

    .you {
        color: rgb(128, 0, 92);
    }

    .server {
        color: rgb(0, 255, 140);
    }

    input {
        width: 70%;
        padding: 5px;
        margin-top: 10px;
    }

    button {
        padding: 6px 10px;
        margin-left: 5px;
    }
</style>
</head>

<body>

<h3>WebSocket Chat</h3>

<div id="chat"></div>

<input id="msg" type="text" placeholder="Type message">
<button onclick="sendMsg()">Send</button>

<script>
    const ws = new WebSocket("ws://localhost:8000/ws");

    ws.onopen = () => {
        addMsg("Connected to server", "server");
    };

    ws.onmessage = (e) => {
        addMsg("Server: " + e.data, "server");
    };

    function sendMsg() {
        const input = document.getElementById("msg");
        if (input.value.trim() !== "") {
            ws.send(input.value);
            addMsg("You: " + input.value, "you");
            input.value = "";
        }
    }

    function addMsg(text, type) {
        const div = document.createElement("div");
        div.className = `msg ${type}`;
        div.innerText = text;
        document.getElementById("chat").appendChild(div);
    }
</script>

</body>
</html>
